<!DOCTYPE html>
<html>
<head>
	<META charset="UTF-8"/>
	<META HTTP-EQUIV="Pragma" CONTENT="no-cache">
	<title>Interface</title>
	<script src="javascripts/jquery-1.7.2.js"></script>
	<script src="javascripts/jquery-ui-1.8.16.custom.min.js"></script>
	<script src="javascripts/raphael.js"></script>
	<script src="javascripts/shortcut.js"></script>
	<script src="javascripts/ontology.js"></script>
	<script src="javascripts/jquery.tinyscrollbar.js"></script>
	<script src="javascripts/Slider2.js"></script>
	<script src="language.js"></script>
	<script src="library.js"></script>
	<script src="controler.js"></script>
	<script src="view.js"></script>
	<script src="validation_test/lib.js"></script>
	<script src="validation_test/generators.js"></script>
	<script src="validation_test/validators.js"></script>
	<script src="validation_test/myValidator.js"></script>
	<link href="stylesheets/my_style.css" rel="stylesheet">
	<link type="text/css" href="stylesheets/jquery-ui-1.8.19.custom.css" rel="stylesheet" />
	<style>
		.clickable{
			cursor: pointer;
		}
		.textfield{
			width: 135px;
			height: 17px;
		}
	</style>
</head>
<body>
<div id="sandbox" style="background-color:ivory;"> </div>
<div id="raport" style='clear: both; display:block;'>a</div>
<div id="form" class="ui-dialog-content ui-widget-content" title="New SSDL node">
	<div id="tabs" class="ui-tabs ui-widget ui-widget-content ui-corner-all">
		<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
			<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active" id="mainTab"><a href="#tabs-1">Main</a></li>
			<li id="physicalDescriptionTab"><a href="#tabs-2">Service description</a></li>
			<li id="inputsTab"><a href="#tabs-3">Inputs</a></li>
			<li id="outputsTab"><a href="#tabs-4">Outputs</a></li>
			<li id="nonFunctionalDescriptionTab"><a href="#tabs-5">Non-functional description</a></li>
		</ul>
		<div id="tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom">
			</br><button id="f_mainTab_nextButton" style="float:right">NEXT</button></br>
		</div>
		<div id="tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom">
			</br><button id="f_physicalDescriptionTab_nextButton" style="float: right">NEXT</button><button id="f_physicalDescriptionTab_backButton" style="float: right">BACK</button></br>
		</div>
		<div id="tabs-3" class="ui-tabs-panel ui-widget-content ui-corner-bottom">
			<p>
				<!--
				<form id="funcDescForm">
					<table>
						<tr>
							<td><label for="f_inputOutputTab_metaKeyword">Meta Keywords: </label></td>
							<td><input type="text" name="f_inputOutputTab_metaKeyword" id="f_inputOutputTab_metaKeyword" value="" class="text ui-widget-content ui-corner-all"/></td>
							<td><input type="submit" name="f_button_addMetaKeyword" id="f_button_addMetaKeyword" value="Add Meta Keyword"/></td>
							<td><small>click on a meta keyword to delete it</small></td>
						</tr>							
					</table>
					
				</form>
				<span id="f_inputOutputTab_mKeywords"></span>
				-->
				<div id="inputs-content" class="ui-widget">
					<p>Defined inputs:</p>
					<table id="f_inputsTab_inputs" class="text ui-widget-content ui-corner-all">
						<thead>
							<tr class="ui-widget-header ">
								<th>Id</th>
								<th>Label</th>
								<th>Class</th>
								<th>DataType</th>
							</tr>
						</thead>
						<tbody>
							<tr>
							</tr>
						</tbody>
					</table>
					</br>
					<button id="f_inputsTab_openAddInputForm">Add new</button>
					<button id="f_inputsTab_openEditInputForm">Edit</button>
					<button id="f_inputsTab_deleteThisInput">Delete</button>	
				</div>	
			</br><button id="f_inputsTab_nextButton" style="float: right">NEXT</button><button id="f_inputsTab_backButton" style="float: right">BACK</button></br>
			</p>
		</div>
		<div id="tabs-4" class="ui-tabs-panel ui-widget-content ui-corner-bottom">
			<p>
				<div id="outputs-content" class="ui-widget">
					<p>Defined outputs:</p>
					<table id="f_outputsTab_outputs" class="text ui-widget-content ui-corner-all">
						<thead>
							<tr class="ui-widget-header ">
								<th>Id</th>
								<th>Label</th>
								<th>Class</th>
								<th>DataType</th>
							</tr>
						</thead>
						<tbody>
						</tbody>
					</table>
					</br>
					<button id="f_outputsTab_openAddOutputForm">Add new</button>
					<button id="f_outputsTab_openEditOutputForm">Edit</button>
					<button id="f_outputsTab_deleteThisOutput">Delete</button>	
				</div>
			</br><button id="f_outputsTab_nextButton" style="float: right">NEXT</button><button id="f_outputsTab_backButton" style="float: right">BACK</button></br>
			</p>
		</div>	
		<!--
		<table>
			<tr>
				<td><label for="f_inputOutputTab_preconditions">Preconditions: </label></td>
				<td><input type="text" name="f_inputOutputTab_preconditions" id="f_inputOutputTab_preconditions" value="" class="text ui-widget-content ui-corner-all"/></td>
					
				<td><label for="f_inputOutputTab_effects">Effects: </label></td>
				<td><input type="text" name="f_inputOutputTab_effects" id="f_inputOutputTab_effects" value="" class="text ui-widget-content ui-corner-all"/></td>
			</tr>
		</table>
		-->
		<div id="tabs-5" class="ui-tabs-panel ui-widget-content ui-corner-bottom">
			<p>
				<div id="nonFunctionalProperties-content" class="ui-widget">
				<p>Defined Non Functional Properties:</p>
					<table id="f_nonFunctionalDescriptionTab_NFProps" class="text ui-widget-content ui-corner-all">
						<thead>
							<tr class="ui-widget-header ">
								<th>Weight</th>
								<th>Name</th>
								<th>Relation</th>
								<th>Unit</th>
								<th>Value</th>
							</tr>
						</thead>
						<tbody>
							<tr>	
							</tr>
						</tbody>
					</table>
				</br>
				<button id="f_nonFunctionalDescriptionTab_openAddNFPropertyForm">Add new</button>
				<button id="f_nonFunctionalDescriptionTab_openEditNFPropertyForm">Edit</button>
				<button id="f_nonFunctionalDescriptionTab_deleteThisNFProperty">Delete</button>	
				</div>
				</br><button id="f_nonFunctionalDescriptionTab_backButton" style="float: right">BACK</button></br>
			</p>
		</div>
	</div>
	<input type="submit" name="f_button_sumbitAllButton" id="f_button_sumbitAllButton" value="Submit all" style="float:right;"/>
	<input type="reset" name="f_button_resetAllButton" id="f_button_resetAllButton" value="Reset all" style="float:right;"/>
	</br>
</div>
<div id="f_dialog_confirm1" title="Remove all data?">
	<p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 5px 5px 0;"></span>
		<span style="font-size: 10px">You are about to clear the entire form. Are you sure?</span></p>
</div>
<div id="f_dialog_confirm2" title="Are you sure?">
	<p ><span class="ui-icon ui-icon-alert" style="float:left; margin:0 5px 5px 0;"></span>
		<span style="font-size: 10px">You will lose all data and this action cannot be cancelled. Do you really want to do this?</span></p>
</div>
<div id="f_dialog_fine" title="As you wish."><p>FINE.</p></div>
<div id="f_addInputForm" class="ui-dialog-content ui-widget-content" title="Add a new input">
</div>
<div id="f_addOutputForm" class="ui-dialog-content ui-widget-content" title="Add a new output">
</div>
<div id="f_addNFPropertyForm" title="Add a new non functional property">
</div>


<script>
	"use strict";
	
	// pomocnicze skrĂłty
	var a = alert;
	var jstr = JSON.stringify;
	// eof pomocnicze skrĂłty

	var modules = ["historyTree", "blanks", "miniature", "subgraphTree", "repository"];
	var A = Graph_GUI("sandbox", 1200, 600, modules, "list.xml");

	function Graph_GUI(id, width, height, modules, url){
		var r = {};
		
		r.id_postfix = Math.round( Math.random() * 10e5 );

	// ------------------------------------------------------------------------test formGenerator
	//PREPENDY
	var form = formGenerator("tabs-1", "polish", r.id_postfix,  formJSON[0]);
	document.getElementById("tabs-1").innerHTML = form;	
	var form2 = formGenerator("tabs-2", "polish", r.id_postfix,  formJSON[1]);
	document.getElementById("tabs-2").innerHTML = form2;	
	var form3 = formGenerator("f_addInputForm", "polish", r.id_postfix,  formJSON[2]);
	document.getElementById("f_addInputForm").innerHTML = form3;	
	var form4 = formGenerator("f_addOutputForm", "polish", r.id_postfix,  formJSON[3]);
	document.getElementById("f_addOutputForm").innerHTML = form4;	
	var form5 = formGenerator("f_addNFPropertyForm", "polish", r.id_postfix,  formJSON[4]);
	document.getElementById("f_addNFPropertyForm").innerHTML = form5;	
	// ------------------------------------------------------------------------ eof test formGenerator


		r.view = View(id, width, height, r);
		r.view.blankNodes.init();
		r.view.blankNodes.draw();
		r.controler = Controler(url, r);
		r.logger = r.controler.initLogger(r.view.paper);
		r.controler.init();

		$(function(){
			$(".plugin_"+r.id_postfix).css("padding-bottom", "10px")
		});

		// setTimeout("raport(A.view.convertGraphViewToXML(true))", 1500)

		return r;
	}



	var G = A.view.graph_view;

	var ontology_json = {data:'Thing', children: [{data:'_Communication', children: [{data:'Algorithm', children: [{data:'Amplification', children: []}, {data:'Authentication', children: []}, {data:'ChangeDetection', children: []}, {data:'Compression', children: []}, {data:'DecisionMaking', children: []}, {data:'Decoding', children: []}, {data:'Decryption', children: []}, {data:'DeNoising', children: []}, {data:'Encoding', children: []}, {data:'Encryption', children: []}, {data:'Merging', children: []}, {data:'Splitting', children: []}]}, {data:'AudioBitrate', children: []}, {data:'AudioBitrateType', children: [{data:'CBR', children: []}, {data:'VBR', children: [{data:'AverageBR', children: []}, {data:'OnOffBR', children: []}]}]}, {data:'AudioBitrateValue', children: [{data:'1100kb/s', children: []}, {data:'125kb/s', children: []}, {data:'690kb/s', children: []}]}, {data:'AudioType', children: [{data:'Monophonic', children: []}, {data:'Stereophonic', children: []}]}, {data:'Codec', children: [{data:'AudioCodec', children: [{data:'FLAC', children: []}, {data:'MP3', children: []}, {data:'PCM', children: []}]}, {data:'VideoCodec', children: [{data:'MPEG-1', children: []}, {data:'MPEG-2', children: []}, {data:'MPEG-4', children: [{data:'4K', children: []}, {data:'HighDefinition', children: []}, {data:'StandardDefinition', children: []}]}]}]}, {data:'ColorScheme', children: [{data:'BlackAndWhite', children: []}, {data:'RGB', children: []}]}, {data:'Data', children: [{data:'Message', children: [{data:'Character', children: []}, {data:'Image', children: []}, {data:'Number', children: []}]}, {data:'Stream', children: [{data:'Audio', children: []}, {data:'Video', children: []}]}]}, {data:'EncodingType', children: [{data:'Lossless', children: []}, {data:'Lossy', children: []}]}, {data:'ImageCompression', children: [{data:'ImageCompressionLossless', children: [{data:'BMP', children: []}, {data:'GIF', children: []}, {data:'PNG', children: []}, {data:'TIFF', children: []}]}, {data:'ImageCompressionLossy', children: [{data:'DCT', children: []}, {data:'JPEG', children: []}]}]}, {data:'MessageFormat', children: [{data:'CSV', children: []}, {data:'RTF', children: []}, {data:'TXT', children: []}, {data:'XLS', children: []}, {data:'XML', children: []}]}, {data:'Processing', children: [{data:'AudioProcessing', children: [{data:'SoundAnalysis', children: []}, {data:'SpeechReccognition', children: []}]}, {data:'DataProcessing', children: [{data:'Filtering', children: []}, {data:'StatisticalProcessing', children: []}]}, {data:'VideoProcessing', children: [{data:'BackgroundRecognition', children: []}, {data:'ColorsChange', children: []}, {data:'EdgeProcessing', children: []}, {data:'MotionTracking', children: []}]}]}, {data:'SamplingRate', children: []}, {data:'Sensor', children: [{data:'AnalogSensor', children: [{data:'HumiditySensor', children: []}, {data:'InsolationSensor', children: []}, {data:'TemperatureSensor', children: []}]}, {data:'AudioSensor', children: [{data:'Microphone', children: []}]}, {data:'DigitalSensor', children: [{data:'ChemicalSensor', children: []}, {data:'CO2Sensor', children: []}, {data:'MotionSensor', children: []}, {data:'NoiseSensor', children: []}, {data:'SmokeSensor', children: []}]}, {data:'VideoSensor', children: [{data:'Camcoder', children: []}]}]}, {data:'SensorOutput', children: []}, {data:'SensorStatus', children: [{data:'SensorError', children: []}, {data:'SensorOK', children: []}]}, {data:'Size', children: []}, {data:'VideoBitrate', children: []}, {data:'VideoBitrateValue', children: [{data:'1.5Mb/s', children: []}, {data:'100Mb/s', children: []}, {data:'15Mb/s', children: []}, {data:'16Mb/s', children: []}, {data:'200Mb/s', children: []}, {data:'40Mb/s', children: []}, {data:'4Mb/s', children: []}, {data:'56Mb/s', children: []}, {data:'60Mb/s', children: []}, {data:'768kb/s', children: []}, {data:'90Mb/s', children: []}]}]}, {data:'_Process', children: [{data:'Alert', children: [{data:'AlertAction', children: [{data:'InitiateAlert', children: []}, {data:'SendAlert', children: []}, {data:'SetAlertStatus', children: []}, {data:'SetAlertType', children: []}]}, {data:'AlertData', children: [{data:'AlertDataActions', children: [{data:'Aggregate', children: []}, {data:'Compress', children: []}, {data:'Convert', children: []}, {data:'Decompress', children: []}, {data:'Process', children: []}, {data:'Send', children: []}, {data:'SetParameters', children: []}, {data:'Store', children: []}]}, {data:'AlertID', children: []}, {data:'AlertObject', children: []}, {data:'AlertStatus', children: [{data:'AlertError', children: []}, {data:'AlertOK', children: []}, {data:'AlertProcessing', children: []}, {data:'ClientNotified', children: []}, {data:'MonitoringNotified', children: []}]}, {data:'AlertType', children: [{data:'High', children: []}, {data:'Low', children: []}]}, {data:'Timing', children: [{data:'Hrs18_6', children: []}, {data:'Hrs24', children: []}, {data:'Hrs6_18', children: []}]}]}]}, {data:'Client', children: [{data:'ClientData', children: [{data:'Firstname', children: []}, {data:'Phone', children: []}, {data:'Surname', children: []}]}]}, {data:'Object', children: [{data:'ObjectID', children: []}, {data:'ObjectLocation', children: [{data:'Address', children: []}, {data:'Area', children: []}, {data:'GPS', children: [{data:'EW', children: []}, {data:'NS', children: []}]}]}, {data:'ObjectOwner', children: []}, {data:'ObjectType', children: [{data:'Building', children: [{data:'House', children: []}, {data:'Laboratory', children: []}]}, {data:'Room', children: []}]}]}, {data:'Person', children: [{data:'PersonID', children: []}]}, {data:'Service', children: [{data:'ServiceLocation', children: [{data:'IP', children: []}, {data:'Port', children: []}]}]}]}]};


	// var tabb = [];
	// function m(obj, tab){
	// 	var str = Object.prototype.toString;
	// 	for(var i in obj){
	// 		if(obj.hasOwnProperty(i)){
	// 			alert(((obj.id+":")|| "")+tab+i+"\n")
	// 			if(str.call(obj[i]) === "[object Object]"){
	// 				m(obj[i], tab+"\t");
	// 			}
	// 		}
	// 	}
	// }
	// m(A, "");

	// m({
	// 	i: "",
	// 	j: "",
	// 	k: {
	// 		p: "",
	// 		LA: ""
	// 	}
	// }, "");

	// console.log(tabb.join(""))
</script>
<!--
<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
-->
</body>
</html>